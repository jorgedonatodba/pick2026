FROM golang:1.18 as base
WORKDIR /app
COPY hello.go .
RUN go mod init hello
RUN go mod tidy
ENV GOOS="linux"
RUN go build -o /app/hello

FROM alpine:3.23.3
WORKDIR /app
COPY --from=base /app/hello /app/hello
CMD [ "/app/hello" ]
