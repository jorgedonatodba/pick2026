FROM golang:1.18 as base
WORKDIR /app
COPY hello.go .
RUN go mod init hello
RUN go mod tidy
ENV GOOS="linux"
RUN go build -o /app/hello

FROM alpine:3.23.3
#SHELL [ "/bin/bash" ]
COPY --from=base /app/hello /app/hello
#ENV VAR=true
#ARG GIROPOPS="strigus"
#ENV GIROPOPS=${GIROPOPS}
#RUN echo "O giropops Ã©: ${GIROPOPS}"
VOLUME [ "/app/dados" ]
RUN echo  "Hello from Dockerfile08" >> /app/dados/info.txt   
CMD [ "/app/hello" ]